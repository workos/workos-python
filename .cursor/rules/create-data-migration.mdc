---
description: This rule creates a data migration Typescript class. It does not need to understand the underlying database.
globs: 
alwaysApply: false
---


# Required inputs
- Name, which must be specified by the user

# Steps
- Generate an id by running ` pnpm exec node -e "const { ulid } = require('ulid'); console.log(ulid())"` in the `common/temp` directory and capturing the output. Do not use other ULID utilities. Trim any whitespace or newlines and convert the ulid to lowercase. I will refer to this as ULID.
- Process the input name by converting it into kebab case. I will refer to this as NAME.
- Create a new file called "<ULID>-<NAME>".ts in the 'packages/api/src/data-migrations/migrations'. This file should follow the class definition pattern of other files in that directory. Make sure to include a constructor that calls 'super()' with the ULID as the only argument.
- Import the new class in 'packages/api/src/data-migrations/data-migration.jobs.module.ts' and add it to the `DATA_MIGRATION_MODULES` constant in alphabetical order.

